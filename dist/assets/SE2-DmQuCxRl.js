import{S as B,P as X,W as j,o as q,p as N,q as O,m as U,M as $,G as V,u as T,a as y,A as _,D as J,r as I,w as k,t as W,v as M}from"./three.module-8Oc40bl9.js";import{C as K,a as Q}from"./CSS2DRenderer-C93wpHdk.js";const v=document.createElement("div");v.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:9999;transition:opacity 1.5s ease-out";document.body.appendChild(v);const p=new B,d=new X(75,window.innerWidth/window.innerHeight,.1,1e3),h=new j({antialias:!0});h.setSize(window.innerWidth,window.innerHeight);h.shadowMap.enabled=!0;document.body.appendChild(h.domElement);const x=new K;x.setSize(window.innerWidth,window.innerHeight);x.domElement.style.cssText="position:absolute;top:0px;pointer-events:none";document.body.appendChild(x.domElement);const z=new q;d.add(z);const m=new N(z),D=new O;D.load("/sound/SE2.mp3",e=>{m.setBuffer(e),m.setLoop(!0),m.setVolume(.5),m.play(),console.log("urban noise is playing")},e=>console.log("Audio "+e.loaded/e.total*100+"% loaded"),e=>{console.error("Error loading audio:",e),Y()});function Y(){const e=["/sound/SE2.mp3"];let a=0;function n(){if(a>=e.length){console.error("Failed to load audio from all paths");return}const t=e[a];console.log(`Trying to load audio from: ${t}`),D.load(t,o=>{m.setBuffer(o),m.setLoop(!0),m.setVolume(.2),m.play(),console.log(`Successfully loaded audio from path: ${t}`)},o=>console.log("Audio "+o.loaded/o.total*100+"% loaded"),o=>{console.error(`Failed to load audio from path: ${t}`,o),a++,n()})}n()}d.position.set(0,5,0);d.lookAt(10,5,0);const u=20,w=20,A=.5,L=new U,Z=new $({color:139,roughness:.7,metalness:.2});let b=Z,l,i;const G=8,H=10;function ee(e){return new Promise((a,n)=>{L.load(e,t=>{console.log(`Texture loaded successfully: ${e}`),t.wrapS=M,t.wrapT=M,t.repeat.set(1,1),a(t)},t=>console.log(`Texture ${e} loading: ${t.loaded/t.total*100}%`),t=>{console.error(`Error loading texture ${e}:`,t),n(t)})})}const te=["/photos/SEimages/SEtexture.png"];async function oe(){for(const e of te)try{const a=await ee(e);b=new $({map:a,roughness:.7,metalness:.2}),console.log(`Successfully loaded texture from path: ${e}`),se();break}catch{console.warn(`Failed to load texture from path: ${e}`)}}function ae(){const e=new V,a=new T(u,A,u),n=new y(a,b);n.position.y=-.5/2,n.receiveShadow=!0,e.add(n);const t=new T(u,w,A),o=new y(t,b);o.position.set(0,w/2,-20/2),o.receiveShadow=!0,o.castShadow=!0,o.userData={wallId:"front"},e.add(o);const r=o.clone();r.position.z=u/2,r.userData={wallId:"back"},e.add(r);const s=new T(A,w,u),c=new y(s,b);c.position.set(-20/2,w/2,0),c.receiveShadow=!0,c.castShadow=!0,c.userData={wallId:"left"},e.add(c);const S=c.clone();S.position.x=u/2,S.userData={wallId:"right"},e.add(S);const R=new _(16777215,.08);e.add(R);const g=new J(16777215,.08);return g.position.set(0,15,0),g.castShadow=!0,g.shadow.mapSize.width=2048,g.shadow.mapSize.height=2048,e.add(g),{group:e,walls:{front:o,back:r,left:c,right:S}}}function ne(){const e=["/photos/SEimages/SE2.webp"],a=new I({color:16733440,side:k}),n=new W(G,H);i=new y(n,a),i.position.set(0,w/2.5,u/2-.6),i.rotation.y=Math.PI,i.rotation.x=.06,i.scale.set(.8,.8,.8),p.add(i);function t(o){if(o>=e.length){console.warn("Failed to load image after trying all paths");return}const r=e[o];console.log(`Attempting to load image from: ${r}`),L.load(r,s=>{i.material=new I({map:s,transparent:!0,opacity:.5,side:k}),console.log(`Image texture loaded successfully from ${r}`)},s=>console.log(`Loading ${r}: ${s.loaded/s.total*100}%`),s=>{console.warn(`Failed to load image texture from ${r}:`,s),t(o+1)})}return t(0),i}function ie(){const e="/photos/SEimages/SE2_2.webp",a=new I({color:43775,side:k}),n=new W(G,H),t=new y(n,a);return t.position.set(u/2-.8,w/2-5),t.rotation.y=-Math.PI/2,t.scale.set(.7,.7,.7),p.add(t),L.load(e,o=>{t.material=new I({map:o,transparent:!0,opacity:.5,side:k}),console.log(`Right wall image loaded from ${e}`)},void 0,o=>{console.warn(`Failed to load image from ${e}:`,o)}),t}function se(){l&&(l.group.children.forEach(e=>{e.isMesh&&(e.material=b)}),h.render(p,d))}function f(e,a){const n=document.createElement("div");n.className="wall-text",n.style.cssText="width:1000px;padding:20px;color:white;border-radius:10px;font-family:Arial,sans-serif;font-size:18px;pointer-events:auto",n.innerHTML=a,setTimeout(()=>{n.querySelectorAll("a").forEach(s=>{s.style.cssText="color:#FF0000;text-decoration:none;cursor:pointer",s.addEventListener("click",c=>{console.log(`Link clicked: ${s.getAttribute("href")}`),console.log(`Link text: ${s.textContent}`)})})},100);const t=new Q(n);switch(e.userData.wallId){case"front":t.position.set(0,-3,.1);break;case"back":t.position.set(0,-8,-.1);break;case"left":t.position.set(.1,0,0),t.rotation.y=Math.PI/2;break;case"right":t.position.set(-.1,0,0),t.rotation.y=-Math.PI/2;break}return e.add(t),t}function re(e){i&&L.load(e,a=>{i.material.map=a,i.material.needsUpdate=!0,console.log("Image updated successfully")},void 0,a=>{console.warn("Failed to update image:",a)})}l=ae();p.add(l.group);oe();ne();ie();f(l.walls.front,`
  <p>I've had enough of watching that thief Adrian grow wealthier and weal████ off of my ████.
  He has lost his wits in his old age and learning that had filled me with glee, but now there's 
  rumors that a clueless brat is next in line to take over the compa██. The towers 
  downtown, erected so quickly by my ████, cast inescapable shadows over me in the streets.
  I can't be idle any longer. What I will not do is run arou██ and tattle to the industry like 
  some petulant child. They'll only write me off as cra██ or fueled by jealousy. Instead, I will 
  ████ back in a way that is so un██thomable no one would see it coming. Whatev██ that may be, I 
  will make sure it ████ him greatly.</p>
`);f(l.walls.front,`
  <p>-.--.-.- -.--.-.--.---.--.--.-    .--.---.-.-      -.--.---.-.-..--.-    ...-.--.- -.-
  -.---.-.-...-.-</p>
`);f(l.walls.right,`
  <p>Craftsworms™ are a type of bioengineered silkworm designed to revolutionize
  architectural fabrication through biomimetic construction techni███.
  These organisms have been genetically modified to produce building materials
  with programmable ████████ patterns, enabling their application in large-scale
  urban infrastructure projects.</p>
`);f(l.walls.right,`
  <p>-.--.-.-</p>
  <p>                  -.--.-.--.---.-.</p>
  <p>  -.--.- -.--.-.--.---.-.-..-.</p>
`);f(l.walls.back,`
  <p>I have had a reasonable ██████ of success that is beyond what most will ever see in this city. I could easily disappear 
  into a life of leisure. But that would be so pitiful after all the hard work I've put forward. I am unab██ to forget and 
  forgive his <a href="SE4.html">betrayal</a>. It has me sick that another Scalius will benefit from ████ is truly mine.</p>
`);f(l.walls.back,`
  <p>-.--.-.- -.--.-.--.---.--.--.- -.--.-.--.---.-.-...-.--.- -.--.-.--.---.-.-..--.---.-.-...-.--.- -.-
  -.---.-.-...-.--.- -.--.---.-.-...-.--.- -.-</p>
`);let P=!1,E=!1,F=0;const le=.01;document.addEventListener("keydown",e=>{e.key==="Alt"&&(P=!0),(e.key==="d"||e.key==="D")&&i&&(i.material.color.getHex()===16733440?i.material.color.set(65280):i.material.color.set(16733440),i.material.needsUpdate=!0)});document.addEventListener("keyup",e=>{e.key==="Alt"&&(P=!1,E=!1)});document.addEventListener("mousedown",e=>{P&&(E=!0,F=e.clientX)});document.addEventListener("mouseup",()=>{E=!1});document.addEventListener("mousemove",e=>{if(E&&P){const a=e.clientX-F;d.rotation.y+=a*le,F=e.clientX}});window.addEventListener("resize",()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight),x.setSize(window.innerWidth,window.innerHeight)});console.log("Image plane created at position:",i.position);window.updateImagePlane=re;window.imagePlane=i;function C(){requestAnimationFrame(C),h.render(p,d),x.render(p,d)}function de(){C(),setTimeout(()=>{v.style.opacity="0",setTimeout(()=>{v.style.display="none"},5e3)},5e3)}de();
