import{S as C,P as R,W as j,o as B,p as X,q,m as N,M as W,G as O,u as I,a as S,A as V,D as J,r as x,w as E,t as F,v as T}from"./three.module-8Oc40bl9.js";import{C as K,a as Q}from"./CSS2DRenderer-C93wpHdk.js";const r=document.createElement("div");r.style.position="fixed";r.style.top="0";r.style.left="0";r.style.width="100%";r.style.height="100%";r.style.backgroundColor="#000";r.style.zIndex="9999";r.style.transition="opacity 1.5s ease-out";document.body.appendChild(r);const p=new C,d=new R(75,window.innerWidth/window.innerHeight,.1,1e3),w=new j({antialias:!0});w.setSize(window.innerWidth,window.innerHeight);w.shadowMap.enabled=!0;document.body.appendChild(w.domElement);const m=new K;m.setSize(window.innerWidth,window.innerHeight);m.domElement.style.position="absolute";m.domElement.style.top="0px";m.domElement.style.pointerEvents="none";document.body.appendChild(m.domElement);const z=new B;d.add(z);const c=new X(z),D=new q;D.load("/sound/SE3.mp3",function(e){c.setBuffer(e),c.setLoop(!0),c.setVolume(.5),c.play(),console.log("audio is playing")},function(e){console.log("Audio "+e.loaded/e.total*100+"% loaded")},function(e){console.error("Error loading audio:",e),U()});function U(){const e=["/sound/SE3.mp3"];let s=0;function o(){if(s>=e.length){console.error("Failed to load audio from all paths");return}const t=e[s];console.log(`Trying to load audio from: ${t}`),D.load(t,function(a){c.setBuffer(a),c.setLoop(!0),c.setVolume(.2),c.play(),console.log(`Successfully loaded audio from path: ${t}`)},function(a){console.log("Audio "+a.loaded/a.total*100+"% loaded")},function(a){console.error(`Failed to load audio from path: ${t}`,a),s++,o()})}o()}d.position.set(0,5,0);d.lookAt(0,5,10);const h=20,g=18,M=.5,A=new N,Y=new W({color:139,roughness:.7,metalness:.2});let b=Y,y;const Z=5,_=8;function ee(e){return new Promise((s,o)=>{A.load(e,t=>{console.log(`Texture loaded successfully: ${e}`),t.wrapS=T,t.wrapT=T,t.repeat.set(1,1),s(t)},t=>{console.log(`Texture ${e} loading: ${t.loaded/t.total*100}%`)},t=>{console.error(`Error loading texture ${e}:`,t),o(t)})})}const te=["/photos/SEimages/SEtexture.png"];async function oe(){for(const e of te)try{const s=await ee(e);b=new W({map:s,roughness:.7,metalness:.2}),console.log(`Successfully loaded texture from path: ${e}`),ie();break}catch{console.warn(`Failed to load texture from path: ${e}`)}}let u;function ne(){const e=new O,s=new I(h,M,h),o=new S(s,b);o.position.y=-.5/2,o.receiveShadow=!0,e.add(o);const t=new I(h,g,M),a=new S(t,b);a.position.set(0,g/2,-20/2),a.receiveShadow=!0,a.castShadow=!0,a.userData={wallId:"front"},e.add(a);const i=a.clone();i.position.z=h/2,i.userData={wallId:"back"},e.add(i);const n=new I(M,g,h),l=new S(n,b);l.position.set(-20/2,g/2,0),l.receiveShadow=!0,l.castShadow=!0,l.userData={wallId:"left"},e.add(l);const k=l.clone();k.position.x=h/2,k.userData={wallId:"right"},e.add(k);const H=new V(16777215,.05);e.add(H);const f=new J(16777215,.05);return f.position.set(0,15,0),f.castShadow=!0,f.shadow.mapSize.width=2048,f.shadow.mapSize.height=2048,e.add(f),{group:e,walls:{front:a,back:i,left:l,right:k}}}function ae(){const e=["/photos/SEimages/SE4.webp"],s=new x({color:16733440,side:E}),o=new F(Z,_);y=new S(o,s),y.position.set(0,g/3,h/2-.6),y.rotation.y=Math.PI,p.add(y);function t(a){if(a>=e.length){console.warn("Failed to load image after trying all paths");return}const i=e[a];console.log(`Attempting to load image from: ${i}`),A.load(i,n=>{y.material=new x({map:n,transparent:!0,opacity:.5,side:E}),console.log(`Image texture loaded successfully from ${i}`)},n=>{console.log(`Loading ${i}: ${n.loaded/n.total*100}%`)},n=>{console.warn(`Failed to load image texture from ${i}:`,n),t(a+1)})}t(0)}function se(){const o="/photos/SEimages/SE3.webp";console.log(`Attempting to create second image plane with: ${o}`);const t=new x({color:65280,side:E}),a=new F(12,10),i=new S(a,t);i.position.set(-20/2+.6,g/3,0),i.rotation.y=Math.PI/2,p.add(i),A.load(o,n=>{const l=new x({map:n,side:E,transparent:!0,opacity:.5});i.material=l,console.log(`Second image texture loaded successfully from ${o}`)},n=>{console.log(`Loading ${o}: ${n.loaded/n.total*100}%`)},n=>{console.error("Error loading image texture for second plane:",n)})}function ie(){u&&(u.group.children.forEach(e=>{e.isMesh&&(e.material=b)}),w.render(p,d))}function v(e,s){const o=document.createElement("div");o.className="wall-text",o.style.width="1000px",o.style.padding="20px",o.style.color="white",o.style.borderRadius="10px",o.style.fontFamily="Arial, sans-serif",o.style.fontSize="25px",o.style.pointerEvents="auto",o.innerHTML=s,setTimeout(()=>{o.querySelectorAll("a").forEach(n=>{n.style.color="#FF0000",n.style.textDecoration="none",n.style.cursor="pointer",n.addEventListener("click",l=>{console.log(`Link clicked: ${n.getAttribute("href")}`),console.log(`Link text: ${n.textContent}`)})})},100);const t=new Q(o);switch(e.userData.wallId){case"front":t.position.set(0,0,.1);break;case"back":t.position.set(0,0,-.1);break;case"left":t.position.set(.1,-3,0),t.rotation.y=Math.PI/2;break;case"right":t.position.set(-.1,0,0),t.rotation.y=-Math.PI/2;break}return e.add(t),t}u=ne();p.add(u.group);ae();se();oe();v(u.walls.right,`
    <p>now he's come up here with a suit looking very different his eyes and teeth 
    are clear he ain't on the chem anymore good for him I guess he puts this silver 
    compact mirror on the counter I need a custom engraving for <a href="SE5.html">my girlfriend</a> oh so 
    you're going steady with her now this is the same girl I am assuming he nods she's
    mine now he doesn't laugh he doesn't even crack a smile</p>
`);v(u.walls.right,`
    <p>-.. --- / -. --- - / - ..- .-. -. / - --- / -- . -.. .. ..- -- ... / --- .-. / 
    -. . -.-. .-. --- -- .- -. -.-. . .-. ... / -.. --- / -. --- - / ... . . -.- / - .... 
    . -- / --- ..- - / .- -. -.. / ... --- / -- .- -.- . / -.-- --- ..- .-. ... . .-.. ...
    - . ... / ..- -. -.-. .-.. . .- -. / -... -.-- / - .... . --</p>
`);v(u.walls.front,` 
  <p>he stumbles in here wearing an oversized jacket and it's got me fucking frightened 
  who knows he could be hauling some heavy metal under there he reaches his hand inside
  the jacket and I grip my neckbiter under the counter ready to fling it across the room 
  and slice him open but ████ he pulls out a wad of cash he wants some jewelry for a girl 
  for all I know he could be making that up he will probably take it to some side street 
  and resell it for twice the amount for a gr██ of spitrock I don't give a shit as long 
  as I'm making my money to my surprise he picks out the nicest charms and gems this ain't 
  cheap you've got good taste there's lots of guys who come in here and pick the tackiest 
  things he says she has impeccable taste and she only dese████ <a href="SE4.html">the best</a> he laughs and then 
  he just keeps laughing he does ██ a little too hard his cheeks begin to turn red it goes 
  on for way t██ long what██er you chemhead</p>
  `);v(u.walls.front,`
  <p>--- / .-- . .- .-- .- .--. --- -. / 
  ..-. --- .-. -- . -.. / .- --. .- .. -. ... - 
  / -- . / ... .... .- .-.. .-.. / .--. .-. --- 
  ... .--. . .-. .- -. -.. / . ...- . .-. -.-- / - --- 
  -. --. ..- . / .-- .... .. -.-. .... / .-. .. ... . ... 
  / .- --. .- .. -. ... - / -.-- --- ..- / .. -. / .--- 
  ..- -.. --. -- . -. - / -.-- --- ..- / ... .... .- .-.. 
  .-.. / -.-. --- -. -.. . -- -. - .... .. ... / .. ... / 
  - .... . / .... . .-. .. - .- --. . / --- ..-. / - .... 
  . / ... . .-. ...- .- -. - ... / --- ..-. / - .... . / 
  .-.. --- .-. -.. --..-- / .- -. -.. / - .... . .. .-. 
  / .-. .. --. .... - . --- ..- ... -. . ... ... / .. ...
   / ..-. .-. --- -- / -- .</p>
  `);let L=!1,P=!1,$=0,re=.01;document.addEventListener("keydown",e=>{e.key==="Alt"&&(L=!0)});document.addEventListener("keyup",e=>{e.key==="Alt"&&(L=!1,P=!1)});document.addEventListener("mousedown",e=>{L&&(P=!0,$=e.clientX)});document.addEventListener("mouseup",()=>{P=!1});document.addEventListener("mousemove",e=>{if(P&&L){const s=e.clientX-$;d.rotation.y+=s*re,$=e.clientX}});window.addEventListener("resize",()=>{d.aspect=window.innerWidth/window.innerHeight,d.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight),m.setSize(window.innerWidth,window.innerHeight)});function G(){requestAnimationFrame(G),w.render(p,d),m.render(p,d)}function le(){G(),setTimeout(()=>{r.style.opacity="0",setTimeout(()=>{r.style.display="none"},5e3)},5e3)}le();
